(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5531:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var a=r(2265);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),toPascalCase=e=>{let t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),hasA11yProp=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:n="",children:i,iconNode:o,...c},u)=>(0,a.createElement)("svg",{ref:u,...s,width:t,height:t,stroke:e,strokeWidth:l?24*Number(r)/Number(t):r,className:mergeClasses("lucide",n),...!i&&!hasA11yProp(c)&&{"aria-hidden":"true"},...c},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),createLucideIcon=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...s},n)=>(0,a.createElement)(l,{ref:n,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,r),...s}));return r.displayName=toPascalCase(e),r}},8291:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(5531);let s=(0,a.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5589:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(5531);let s=(0,a.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1295:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(5531);let s=(0,a.Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},2851:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(5531);let s=(0,a.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},575:function(e,t,r){Promise.resolve().then(r.bind(r,2803))},2803:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Login}});var a=r(7437),s=r(2265),l=r(4033),n=r(1396),i=r.n(n),o=r(9843),c=r(5093),u=r(3611),d=r(9598),m=r(5831),f=r(1465),h=r(5718),x=r(2851),p=r(1295),v=r(5589),g=r(5531);let y=(0,g.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),b=(0,g.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var j=r(8291);function Login(){let[e,t]=(0,s.useState)({email:"",password:""}),[r,n]=(0,s.useState)(""),[g,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),C=(0,l.useRouter)(),{login:S}=(0,c.useAuth)(),handleSubmit=async t=>{t.preventDefault(),n(""),N(!0);try{let t=await o.h.login(e);S(t.token,t.user),C.push("/projects")}catch(e){e instanceof o.M?n(e.message):n("Произошла ошибка при входе")}finally{N(!1)}},handleChange=r=>{t({...e,[r.target.name]:r.target.value})};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(x.Z,{className:"w-8 h-8 text-primary-foreground"})})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Добро пожаловать!"}),(0,a.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Войдите в свой аккаунт, чтобы продолжить"})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{className:"space-y-1",children:[(0,a.jsx)(d.ll,{className:"text-2xl text-center",children:"Вход"}),(0,a.jsx)(d.SZ,{className:"text-center",children:"Введите свои данные для входа в систему"})]}),(0,a.jsxs)(d.aY,{className:"space-y-6",children:[r&&(0,a.jsx)(h.bZ,{variant:"destructive",children:(0,a.jsx)(h.X,{children:r})}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.Label,{htmlFor:"email",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,a.jsx)(m.I,{id:"email",name:"email",type:"email",value:e.email,onChange:handleChange,required:!0,className:"pl-10",placeholder:"your@email.com"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.Label,{htmlFor:"password",children:"Пароль"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,a.jsx)(m.I,{id:"password",name:"password",type:w?"text":"password",value:e.password,onChange:handleChange,required:!0,className:"pl-10 pr-10",placeholder:"Введите пароль"}),(0,a.jsx)("button",{type:"button",onClick:()=>k(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:w?(0,a.jsx)(y,{className:"w-4 h-4"}):(0,a.jsx)(b,{className:"w-4 h-4"})})]})]}),(0,a.jsx)(u.z,{type:"submit",disabled:g,className:"w-full h-10",children:g?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Вход..."]}):(0,a.jsxs)("div",{className:"flex items-center",children:["Войти",(0,a.jsx)(j.Z,{className:"w-4 h-4 ml-2"})]})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Нет аккаунта?"," ",(0,a.jsx)(i(),{href:"/register",className:"text-primary hover:text-primary/80 font-medium",children:"Зарегистрироваться"})]})})]})]})]})})}},5718:function(e,t,r){"use strict";r.d(t,{X:function(){return u},bZ:function(){return o}});var a=r(7437),s=r(2265),l=r(6061),n=r(1628);let i=(0,l.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:s}),r),...l})});o.displayName="Alert";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});c.displayName="AlertTitle";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...s})});u.displayName="AlertDescription"},5831:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(7437),s=r(2265),l=r(1628);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},1465:function(e,t,r){"use strict";r.r(t),r.d(t,{Label:function(){return c}});var a=r(7437),s=r(2265),l=r(6743),n=r(6061),i=r(1628);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,i.cn)(o(),r),...s})});c.displayName=l.f.displayName},5093:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),AuthProvider=e=>{let{children:t}=e,[r,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{o(e),n(JSON.parse(t))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user")}u(!1)},[]),(0,a.jsx)(l.Provider,{value:{user:r,token:i,login:(e,t)=>{o(e),n(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},logout:()=>{o(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},updateUser:e=>{n(e),localStorage.setItem("user",JSON.stringify(e))},isLoading:c},children:t})},useAuth=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1396:function(e,t,r){e.exports=r(8326)},4033:function(e,t,r){e.exports=r(94)},6743:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var a=r(2265),s=r(9790),l=r(7437),n=a.forwardRef((e,t)=>(0,l.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{let r=t.target;r.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},6061:function(e,t,r){"use strict";r.d(t,{j:function(){return cva}});var a=r(7042);let falsyToString=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.W,cva=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:n}=t,i=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],a=null==n?void 0:n[e];if(null===t)return null;let s=falsyToString(t)||falsyToString(a);return l[e][s]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{}),c=null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...o}[t]):({...n,...o})[t]===r})?[...e,r,a]:e},[]);return s(e,i,c,null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[660,326,648,971,472,744],function(){return e(e.s=575)}),_N_E=e.O()}]);