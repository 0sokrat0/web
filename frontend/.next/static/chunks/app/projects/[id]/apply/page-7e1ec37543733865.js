(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{5531:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var s=r(2265);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),toPascalCase=e=>{let t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),hasA11yProp=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:n="",children:i,iconNode:c,...d},o)=>(0,s.createElement)("svg",{ref:o,...a,width:t,height:t,stroke:e,strokeWidth:l?24*Number(r)/Number(t):r,className:mergeClasses("lucide",n),...!i&&!hasA11yProp(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),createLucideIcon=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...a},n)=>(0,s.createElement)(l,{ref:n,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,r),...a}));return r.displayName=toPascalCase(e),r}},3067:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4530:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6141:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2176:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},2851:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},5340:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3289:function(e,t,r){Promise.resolve().then(r.bind(r,1517))},1517:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ApplyToProject}});var s=r(7437),a=r(2265),l=r(4033),n=r(1396),i=r.n(n),c=r(9843),d=r(5093),o=r(3611),u=r(9598),m=r(708),x=r(2147),f=r(1465),h=r(5718),p=r(3067),g=r(2851),j=r(4530),v=r(5531);let b=(0,v.Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var y=r(7972),N=r(6141),w=r(2176),k=r(5340);function ApplyToProject(){var e;let t=(0,l.useParams)(),r=(0,l.useRouter)(),{user:n}=(0,d.useAuth)(),[v,Z]=(0,a.useState)(null),[S,C]=(0,a.useState)(!0),[A,P]=(0,a.useState)(!1),[z,L]=(0,a.useState)(!1),[M,O]=(0,a.useState)(""),[I,R]=(0,a.useState)("");(0,a.useEffect)(()=>{t.id&&loadProject(Number(t.id))},[t.id]);let loadProject=async e=>{try{C(!0);let t=await c.h.getProjects(),r=t.find(t=>t.id===e);Z(r||null)}catch(e){console.error("Failed to load project:",e)}finally{C(!1)}},handleSubmit=async e=>{if(e.preventDefault(),!n){O("Необходимо войти в систему для подачи заявки");return}P(!0),O("");try{await new Promise(e=>setTimeout(e,2e3)),L(!0),setTimeout(()=>{r.push("/projects/".concat(t.id))},3e3)}catch(e){O("Произошла ошибка при подаче заявки")}finally{P(!1)}};return S?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Загрузка проекта..."})]})}):v?n?z?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,s.jsx)(j.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Заявка отправлена!"}),(0,s.jsxs)("p",{className:"text-muted-foreground mb-6",children:['Ваша заявка на участие в проекте "',v.title,'" успешно отправлена. Автор проекта рассмотрит её в ближайшее время.']}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)(i(),{href:"/projects/".concat(t.id),children:(0,s.jsxs)(o.z,{variant:"outline",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"К проекту"]})}),(0,s.jsx)(i(),{href:"/projects",children:(0,s.jsx)(o.z,{children:"Все проекты"})})]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("div",{className:"border-b bg-background/95 backdrop-blur",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(i(),{href:"/projects/".concat(t.id),children:(0,s.jsxs)(o.z,{variant:"ghost",className:"flex items-center space-x-2",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Назад к проекту"})]})})})})}),(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(u.Zb,{className:"border-0 shadow-lg",children:[(0,s.jsxs)(u.Ol,{children:[(0,s.jsxs)(u.ll,{className:"text-2xl flex items-center gap-2",children:[(0,s.jsx)(b,{className:"w-6 h-6 text-primary"}),"Подать заявку на участие"]}),(0,s.jsx)(u.SZ,{children:"Расскажите о себе и своих навыках, чтобы автор проекта мог оценить вашу кандидатуру"})]}),(0,s.jsx)(u.aY,{children:(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[M&&(0,s.jsx)(h.bZ,{variant:"destructive",children:(0,s.jsx)(h.X,{children:M})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.Label,{htmlFor:"application",children:"Почему вы хотите участвовать в этом проекте?"}),(0,s.jsx)(x.g,{id:"application",value:I,onChange:e=>R(e.target.value),placeholder:"Расскажите о своем опыте, навыках и мотивации для участия в проекте...",className:"min-h-[200px] resize-none",required:!0}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[I.length,"/1000 символов"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Заявка будет отправлена автору проекта"}),(0,s.jsx)(o.z,{type:"submit",disabled:A||!I.trim(),className:"px-8",children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Отправка..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{className:"w-4 h-4 mr-2"}),"Отправить заявку"]})})]})]})})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(u.Zb,{className:"border-0 shadow-lg",children:[(0,s.jsx)(u.Ol,{children:(0,s.jsx)(u.ll,{className:"text-lg",children:"Информация о проекте"})}),(0,s.jsxs)(u.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:v.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3",children:v.description})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.C,{variant:(e=>{switch(e){case"beginner":return"default";case"middle":return"secondary";case"expert":return"destructive";default:return"outline"}})(v.level),children:(e=>{switch(e){case"beginner":return"Начинающий";case"middle":return"Средний";case"expert":return"Эксперт";default:return e}})(v.level)}),(0,s.jsx)(m.C,{variant:"outline",children:v.category})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Автор: ",v.owner.name]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Создан: ",new Date(v.created_at).toLocaleDateString("ru-RU")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Участников: ",(null===(e=v.members)||void 0===e?void 0:e.length)||0]})]})]})]})]}),(0,s.jsxs)(u.Zb,{className:"border-0 shadow-lg",children:[(0,s.jsx)(u.Ol,{children:(0,s.jsx)(u.ll,{className:"text-lg",children:"Советы для заявки"})}),(0,s.jsxs)(u.aY,{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{children:"Опишите свой опыт в данной области"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{children:"Укажите, сколько времени можете уделить проекту"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{children:"Расскажите о своих мотивациях"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(k.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{children:"Приведите примеры своих работ"})]})]})]})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,s.jsx)(g.Z,{className:"w-8 h-8 text-primary-foreground"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Войдите в систему"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Для подачи заявки на участие в проекте необходимо войти в систему"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)(i(),{href:"/login",children:(0,s.jsx)(o.z,{className:"w-full sm:w-auto",children:"Войти"})}),(0,s.jsx)(i(),{href:"/register",children:(0,s.jsx)(o.z,{variant:"outline",className:"w-full sm:w-auto",children:"Зарегистрироваться"})})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Проект не найден"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Возможно, проект был удален или не существует"}),(0,s.jsx)(i(),{href:"/projects",children:(0,s.jsxs)(o.z,{children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Вернуться к проектам"]})})]})})}},5718:function(e,t,r){"use strict";r.d(t,{X:function(){return o},bZ:function(){return c}});var s=r(7437),a=r(2265),l=r(6061),n=r(1628);let i=(0,l.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:a}),r),...l})});c.displayName="Alert";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});d.displayName="AlertTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...a})});o.displayName="AlertDescription"},708:function(e,t,r){"use strict";r.d(t,{C:function(){return Badge}});var s=r(7437);r(2265);var a=r(6061),l=r(1628);let n=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:r}),t),...a})}},1465:function(e,t,r){"use strict";r.r(t),r.d(t,{Label:function(){return d}});var s=r(7437),a=r(2265),l=r(6743),n=r(6061),i=r(1628);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.f,{ref:t,className:(0,i.cn)(c(),r),...a})});d.displayName=l.f.displayName},2147:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var s=r(7437),a=r(2265),l=r(1628);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});n.displayName="Textarea"},5093:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var s=r(7437),a=r(2265);let l=(0,a.createContext)(void 0),AuthProvider=e=>{let{children:t}=e,[r,n]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{c(e),n(JSON.parse(t))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user")}o(!1)},[]),(0,s.jsx)(l.Provider,{value:{user:r,token:i,login:(e,t)=>{c(e),n(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},logout:()=>{c(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},updateUser:e=>{n(e),localStorage.setItem("user",JSON.stringify(e))},isLoading:d},children:t})},useAuth=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1396:function(e,t,r){e.exports=r(8326)},4033:function(e,t,r){e.exports=r(94)},6743:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var s=r(2265),a=r(9790),l=r(7437),n=s.forwardRef((e,t)=>(0,l.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{let r=t.target;r.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},6061:function(e,t,r){"use strict";r.d(t,{j:function(){return cva}});var s=r(7042);let falsyToString=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,cva=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:n}=t,i=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],s=null==n?void 0:n[e];if(null===t)return null;let a=falsyToString(t)||falsyToString(s);return l[e][a]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{}),d=null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...c}[t]):({...n,...c})[t]===r})?[...e,r,s]:e},[]);return a(e,i,d,null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[660,326,648,971,472,744],function(){return e(e.s=3289)}),_N_E=e.O()}]);