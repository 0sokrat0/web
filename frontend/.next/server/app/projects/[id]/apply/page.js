(()=>{var e={};e.id=896,e.ids=[896],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},2179:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>p,tree:()=>d});var t=r(7096),a=r(6132),l=r(7284),n=r.n(l),i=r(2564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(s,c);let d=["",{children:["projects",{children:["[id]",{children:["apply",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9928)),"/Users/sokrat/Downloads/МГУУПМ/frontend/app/projects/[id]/apply/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6607)),"/Users/sokrat/Downloads/МГУУПМ/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/sokrat/Downloads/МГУУПМ/frontend/app/projects/[id]/apply/page.tsx"],o="/projects/[id]/apply/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/[id]/apply/page",pathname:"/projects/[id]/apply",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8615:(e,s,r)=>{Promise.resolve().then(r.bind(r,2010))},2010:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ApplyToProject});var t=r(784),a=r(9885),l=r(7114),n=r(1440),i=r.n(n),c=r(9576),d=r(7236),x=r(5555),o=r(599),m=r(1890),p=r(7878),u=r(2451),h=r(2540),j=r(9803),f=r(5924),g=r(6253),b=r(8089),N=r(3680),v=r(5441),y=r(169),w=r(7932);function ApplyToProject(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),{user:r}=(0,d.useAuth)(),[n,_]=(0,a.useState)(null),[P,k]=(0,a.useState)(!0),[Z,q]=(0,a.useState)(!1),[S,z]=(0,a.useState)(!1),[A,D]=(0,a.useState)(""),[T,C]=(0,a.useState)("");(0,a.useEffect)(()=>{e.id&&loadProject(Number(e.id))},[e.id]);let loadProject=async e=>{try{k(!0);let s=await c.h.getProjects(),r=s.find(s=>s.id===e);_(r||null)}catch(e){console.error("Failed to load project:",e)}finally{k(!1)}},handleSubmit=async t=>{if(t.preventDefault(),!r){D("Необходимо войти в систему для подачи заявки");return}q(!0),D("");try{await new Promise(e=>setTimeout(e,2e3)),z(!0),setTimeout(()=>{s.push(`/projects/${e.id}`)},3e3)}catch(e){D("Произошла ошибка при подаче заявки")}finally{q(!1)}};return P?t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Загрузка проекта..."})]})}):n?r?S?t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[t.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx(g.Z,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Заявка отправлена!"}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-6",children:['Ваша заявка на участие в проекте "',n.title,'" успешно отправлена. Автор проекта рассмотрит её в ближайшее время.']}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(i(),{href:`/projects/${e.id}`,children:(0,t.jsxs)(x.z,{variant:"outline",children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"К проекту"]})}),t.jsx(i(),{href:"/projects",children:t.jsx(x.z,{children:"Все проекты"})})]})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"border-b bg-background/95 backdrop-blur",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(i(),{href:`/projects/${e.id}`,children:(0,t.jsxs)(x.z,{variant:"ghost",className:"flex items-center space-x-2",children:[t.jsx(j.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Назад к проекту"})]})})})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:(0,t.jsxs)(o.Zb,{className:"border-0 shadow-lg",children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)(o.ll,{className:"text-2xl flex items-center gap-2",children:[t.jsx(b.Z,{className:"w-6 h-6 text-primary"}),"Подать заявку на участие"]}),t.jsx(o.SZ,{children:"Расскажите о себе и своих навыках, чтобы автор проекта мог оценить вашу кандидатуру"})]}),t.jsx(o.aY,{children:(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[A&&t.jsx(h.bZ,{variant:"destructive",children:t.jsx(h.X,{children:A})}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u.Label,{htmlFor:"application",children:"Почему вы хотите участвовать в этом проекте?"}),t.jsx(p.g,{id:"application",value:T,onChange:e=>C(e.target.value),placeholder:"Расскажите о своем опыте, навыках и мотивации для участия в проекте...",className:"min-h-[200px] resize-none",required:!0}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[T.length,"/1000 символов"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Заявка будет отправлена автору проекта"}),t.jsx(x.z,{type:"submit",disabled:Z||!T.trim(),className:"px-8",children:Z?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Отправка..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Отправить заявку"]})})]})]})})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(o.Zb,{className:"border-0 shadow-lg",children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{className:"text-lg",children:"Информация о проекте"})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-foreground mb-2",children:n.title}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:n.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(m.C,{variant:(e=>{switch(e){case"beginner":return"default";case"middle":return"secondary";case"expert":return"destructive";default:return"outline"}})(n.level),children:(e=>{switch(e){case"beginner":return"Начинающий";case"middle":return"Средний";case"expert":return"Эксперт";default:return e}})(n.level)}),t.jsx(m.C,{variant:"outline",children:n.category})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(N.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Автор: ",n.owner.name]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(v.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Создан: ",new Date(n.created_at).toLocaleDateString("ru-RU")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsx(y.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Участников: ",n.members?.length||0]})]})]})]})]}),(0,t.jsxs)(o.Zb,{className:"border-0 shadow-lg",children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{className:"text-lg",children:"Советы для заявки"})}),(0,t.jsxs)(o.aY,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(w.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Опишите свой опыт в данной области"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(w.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Укажите, сколько времени можете уделить проекту"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(w.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Расскажите о своих мотивациях"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(w.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Приведите примеры своих работ"})]})]})]})]})]})})]}):t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx(f.Z,{className:"w-8 h-8 text-primary-foreground"})}),t.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Войдите в систему"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Для подачи заявки на участие в проекте необходимо войти в систему"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(i(),{href:"/login",children:t.jsx(x.z,{className:"w-full sm:w-auto",children:"Войти"})}),t.jsx(i(),{href:"/register",children:t.jsx(x.z,{variant:"outline",className:"w-full sm:w-auto",children:"Зарегистрироваться"})})]})]})}):t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Проект не найден"}),t.jsx("p",{className:"text-muted-foreground mb-6",children:"Возможно, проект был удален или не существует"}),t.jsx(i(),{href:"/projects",children:(0,t.jsxs)(x.z,{children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"Вернуться к проектам"]})})]})})}},7878:(e,s,r)=>{"use strict";r.d(s,{g:()=>n});var t=r(784),a=r(9885),l=r(8699);let n=a.forwardRef(({className:e,...s},r)=>t.jsx("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));n.displayName="Textarea"},9928:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>c});var t=r(5153);let a=(0,t.createProxy)(String.raw`/Users/sokrat/Downloads/МГУУПМ/frontend/app/projects/[id]/apply/page.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default,c=i}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[262,528,666,858,201,599,576,703,890],()=>__webpack_exec__(2179));module.exports=r})();